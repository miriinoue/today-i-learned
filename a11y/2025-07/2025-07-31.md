# 2.1.4:文字キーのショートカット（レベル A）を理解する

## 達成基準の概要

**2.1.4 文字キーのショートカット（レベル A）:** 文字（大文字と小文字を含む）、句読点、数字、記号のみを使ったキーボードショートカットがある場合、以下のうち少なくとも1つを満たす必要がある。

1. **解除**: ショートカットを無効にする仕組みがある
2. **再割り当て**: ショートカットを1つ以上の修飾キー（Ctrl、Alt等）を含む組み合わせに再割り当てできる
3. **フォーカス中にのみ有効**: ショートカットが関連するユーザインターフェイス要素にフォーカスがある時のみ有効

## 達成基準の意図

**意図：**
音声入力利用者が、意図しない文字キーのショートカット実行により操作を妨げられないようにする。

**どんな利用者に役立つか：**
- 音声入力利用者（音声の読み上げが文字の文字列として解釈され、意図しないショートカットが実行される可能性）
- キーを誤って押しやすいキーボード利用者（手指の細かい動きが困難な利用者を含む）

## 問題のあるショートカットの例

### ❌ 悪い例：文字キーのみのショートカット

```javascript
// 問題のある実装（メールアプリの例）
document.addEventListener('keydown', (e) => {
  switch(e.key) {
    case 'y':
      archiveMessage(); // メッセージをアーカイブ
      break;
    case 'k':
      moveToNext(); // 下の会話に移動
      break;
    case 'm':
      muteThread(); // メッセージをミュート
      break;
  }
});
```

**問題点：**
- 音声入力で「Hey Kim」と発話した際に、'y'キーでアーカイブ、'k'キーで移動、'm'キーでミュートが連続実行される
- 手指の細かい動きが困難な利用者が意図せずキーを押してしまう

## 適切な実装方法

### ✅ 3つの解決策

**1. 解除機能の提供**
利用者が設定で文字キーショートカットを無効にできる機能を提供する。

**2. 修飾キーとの組み合わせに再割り当て**
文字キーのみのショートカットを、Ctrl、Alt等の修飾キーと組み合わせたショートカットに変更する。

**3. フォーカス中にのみ有効化**
特定の要素にフォーカスがある時のみショートカットを有効にする。例：テキストエディター内でのみ's'キーで保存、ファイル一覧でのみ'd'キーで削除。

## 参考

- [達成基準 2.1.4: 文字キーのショートカットを理解する](https://waic.jp/translations/WCAG22/Understanding/character-key-shortcuts.html)
- [達成方法 G217: キーボードショートカットを無効にする仕組みを提供する](https://waic.jp/translations/WCAG22/Techniques/general/G217)
