# SVG要素にアクセシブルなラベルを提供する方法

## SVG要素のアクセシビリティ基準

WCAG 2.2の達成基準1.1.1「非テキストコンテンツ（レベルA）」では、意味のある非テキストコンテンツに同等の目的を果たすテキストによる代替の提供が求められる。装飾的なSVGは代替テキストは不要だが、支援技術に読み上げられないようにする。

## SVG要素にラベルを提供する方法

インラインSVGにラベルを提供する主な方法として、`aria-label`属性の使用と`<title>`要素の使用がある。

### 方法1: aria-label属性を使用する

インラインSVGには`alt`属性を使用できないため、`<svg>`要素に`role="img"`で画像であることを明示し、`aria-label`で代替テキストを提供する。

```html
<svg role="img" aria-label="閉じる" viewBox="0 0 24 24">
  <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
</svg>
```

### 方法2: title要素を使用する

`<title>`要素を`<svg>`開始タグの直後に配置し、短い説明を提供する。ブラウザによってはツールチップとして表示される。`<title>`単独では環境によって読み上げられない場合があるため、`aria-labelledby`で参照する。また、`role="img"`で画像であることを明示する。

```html
<svg role="img" aria-labelledby="svgTitle" viewBox="0 0 24 24">
  <title id="svgTitle">閉じる</title>
  <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
</svg>
```

### 詳細な説明が必要な場合

短いタイトル以上の情報を伝える必要がある場合、`<desc>`要素を追加して`aria-describedby`で参照できる。

```html
<svg role="img" aria-labelledby="svgTitle" aria-describedby="svgDesc" viewBox="0 0 400 300">
  <title id="svgTitle">売上推移グラフ</title>
  <desc id="svgDesc">2024年1月から12月までの月別売上推移。最高値は8月50万円、最低値は2月30万円。</desc>
  <!-- グラフのSVGコンテンツ -->
</svg>
```

## 装飾的なSVGの扱い

SVGが純粋に装飾目的で使用され、意味のある情報を伝えない場合、`aria-hidden="true"`を指定することで支援技術から隠すことができる。

```html
<svg aria-hidden="true">
  <!-- 装飾用のSVGコンテンツ -->
</svg>
```

## 参考

- MDN「ARIA: img role」: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Reference/Roles/img_role
- MDN「HTML 内の SVG 入門」: https://developer.mozilla.org/ja/docs/Web/SVG/Guides/SVG_in_HTML
- WCAG 2.2達成基準 1.1.1 非テキストコンテンツ: https://waic.jp/translations/WCAG22/#non-text-content
- WCAG達成方法集 ARIA6（aria-labelを使用）: https://waic.jp/translations/WCAG-TECHS/ARIA6
- WCAG達成方法集 ARIA10（aria-labelledbyを使用）: https://waic.jp/docs/WCAG-TECHS/ARIA10
